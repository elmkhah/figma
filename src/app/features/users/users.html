<div class="flex flex-col w-full h-full gap-5 items-center" >

<!--  کادر بالا-->
  <div class="flex flex-row w-full px-10 justify-between items-center">

<!--    کادر سرچ-->
    <div class="flex flex-row px-3 py-1 rounded-lg border-2 border-gray-400 items-center">
      <input [(ngModel)]="text" class="p-2 focus:outline-none bg-white rounded-lg" type="text" >
      <img (click)="this.pageNum=1;this.req()" src="/svg/Magnifer.svg" class="cursor-pointer invert-50">
    </div>


<!--    کادر سورت-->
    <div class="flex flex-row gap-5 h-5 items-center" >
      <div (click)="sortSId()" class="cursor-pointer flex flex-row  items-center">
        <img src="/svg/Sort%20From%20Bottom%20To%20Top.svg">
        <p class="text-sm">مرتب سازی صعودی</p>
      </div>

      <div (click)="sortNId()" class="cursor-pointer flex flex-row  items-center">
        <img src="/svg/Sort%20From%20Top%20To%20Bottom.svg">
        <p  class="text-sm">مرتب سازی نزولی</p>
      </div>

      <div class="flex flex-row gap-1 items-center">
      <img src="/svg/Server%20Minimalistic.svg">
        <p (click)="pageSize=10;this.req() "
           [ngClass]="{ 'bg-blue-500 text-white': pageSize === 10, 'bg-gray-100': pageSize !== 10}"
           class=" cursor-pointer bg-gray-100 p-1 rounded-md">10</p>
        <p (click)="pageSize=20; this.req()" [ngClass]="{ 'bg-blue-500 text-white': pageSize === 20, 'bg-gray-100': pageSize !== 20}"
           class="cursor-pointer bg-gray-100 p-1 rounded-md">20</p>
        <p (click)="pageSize=30; this.req()" [ngClass]="{ 'bg-blue-500 text-white': pageSize === 30, 'bg-gray-100': pageSize !== 30}"
           class="cursor-pointer bg-gray-100 p-1 rounded-md">30</p>

      </div>

    </div>


  </div>

<!--  جدول-->
  <div class="w-full p-10">
    <p-table [value]="users" class="w-full">
      <ng-template #header>
        <tr>
          <th>نام کاربری</th>
          <th>ایمیل</th>
          <th>نام کامل</th>
          <th>آیدی</th>
        </tr>
      </ng-template>


      <ng-template #body let-user>
        <tr class="items-center">
          @if(user.userName){
            <td>{{ user.userName }}</td>
          } @else {
            <td><img src="/svg/Forbidden%20Circle%202.svg"></td>
          }
          <td>{{user.emailId}}</td>
          <td>{{user.fullName}}</td>
          <td>{{ user.userId }}</td>
        </tr>
      </ng-template>


    </p-table>

  </div>



<!--  شمارنده صفحه-->
  <div class="flex flex-row gap-2 justify-center items-center pb-10">

    <!-- دکمه‌های شماره صفحه -->
    @for (page of getPageNumbers(); track page){
    <button
      (click)="pageNum=page; req()"
      [ngClass]="{
        'bg-blue-500 text-white': page === pageNum,
        'bg-gray-100': page !== pageNum
      }"
      class="px-3 py-1 border rounded-md cursor-pointer">

      {{ page }}

    </button>
    }

  </div>


</div>
